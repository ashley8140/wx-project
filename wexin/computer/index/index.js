var App = getApp();var core = App.core;var Utils = core.Utils;var Store = core.Store;var Deferred = core.Deferred;var GetComputerData = function(){    return Store('http://192.168.2.104/wx-project/weixin/public/core/brandData.json', null, {        cache: {},        detaFilter: null,    }).then(function(json, isSuccess){        return Deferred().resolve(json.data);    })};var computerHotData = [{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},{"id": "1", "logo": "http://192.168.2.104/wx-project/weixin/public/images/1.jpg", "name": "联想"},]Page({    data: {        enableScroll: true,        currentIndex: 0,        heightStyle: ''    },    onLoad: function(){        var that = this;        var systemInfo = wx.getSystemInfoSync();       // console.log(systemInfo)        //设置heightStyle后才能滚动        var heightStyle = 'height:' + systemInfo.windowHeight + 'px';        wx.showToast({title: '', icon: 'loading', duration: 20000, mask: true});        GetComputerData().then(function(computerData){            //所有字母的高度            var singleHeight = 36 * systemInfo.windowWidth / 750;            var letterHeight = (computerData.letter.length + 1) * singleHeight;            that.data.singleHeight = singleHeight;            that.data.letterToTop = (systemInfo.windowHeight - letterHeight) / 2;            that.setData({                computerData: computerData,                computerHot: computerHotData,                heightStyle: heightStyle            });            wx.hideToast();        })    },    onTapBrand: function(e){        var id = e.currentTarget.dataset.id;        wx.showToast({title:'', icon: 'loading', duration: 20000, mask: true});        wx.navigateTo({url: '/computer/brand/index?id=' + id});    },    onTapSelectLetter: function(e){        var target = e.currentTarget;        var index = target.dataset.index;        this.data.activeLetterIndex = target.dataset.letter;        if(index == 0){            this.setData({                currentIndex: 0,            })        }else{            this.setData({                currentIndex: index,            })        }    },    onTouchMoveLetter: function(e){        var touchY = e.changedTouches[0].clientY;        var letterList = this.data.computerData.letter;        var activeLetterIndex = Math.ceil((touchY - this.data.letterToTop) / this.data.singleHeight ) - 1;        activeLetterIndex = Math.min( Math.max(0, activeLetterIndex), letterList.length);        this.data.activeLetterIndex = activeLetterIndex;        this.setData({            letterId: (activeLetterIndex == 0 ? 're' : letterList[activeLetterIndex - 1]),        })    },    onTouchStart: function(){        this.setData({enableScroll: false});    },    onTouchEnd: function(){        this.setData({            enableScroll: true,            currentIndex: this.data.activeLetterIndex        });    },    onShareAppMessage: function(){        return {            title: 'computer',            desc: '查询',            path: '/computer/index/index'        }    }});//每一个小程序页面也可以使用.json文件来对本页面的窗口表现进行配置。// 页面的配置比app.json全局配置简单得多，只是设置 app.json 中的 window 配置项的内容，页面中配置项会覆盖 app.json 的 window 中相同的配置项。//disableScroll true 则页面整体不能上下滚动；只在 page.json 中有效，无法在 app.json 中设置该项